var app=function(){"use strict";function t(){}function e(t){return t()}function n(){return Object.create(null)}function o(t){t.forEach(e)}function r(t){return"function"==typeof t}function c(t,e){return t!=t?e==e:t!==e||t&&"object"==typeof t||"function"==typeof t}function l(t,e){t.appendChild(e)}function i(t,e,n){t.insertBefore(e,n||null)}function s(t){t.parentNode.removeChild(t)}function u(t,e){for(let n=0;n<t.length;n+=1)t[n]&&t[n].d(e)}function f(t){return document.createElement(t)}function a(t){return document.createTextNode(t)}function p(){return a(" ")}function d(t,e,n,o){return t.addEventListener(e,n,o),()=>t.removeEventListener(e,n,o)}function m(t,e,n){null==n?t.removeAttribute(e):t.getAttribute(e)!==n&&t.setAttribute(e,n)}function $(t,e){e=""+e,t.wholeText!==e&&(t.data=e)}function h(t,e,n){t.classList[n?"add":"remove"](e)}let g;function v(t){g=t}const k=[],y=[],w=[],b=[],x=Promise.resolve();let _=!1;function B(t){w.push(t)}let z=!1;const E=new Set;function N(){if(!z){z=!0;do{for(let t=0;t<k.length;t+=1){const e=k[t];v(e),A(e.$$)}for(k.length=0;y.length;)y.pop()();for(let t=0;t<w.length;t+=1){const e=w[t];E.has(e)||(E.add(e),e())}w.length=0}while(k.length);for(;b.length;)b.pop()();_=!1,z=!1,E.clear()}}function A(t){if(null!==t.fragment){t.update(),o(t.before_update);const e=t.dirty;t.dirty=[-1],t.fragment&&t.fragment.p(t.ctx,e),t.after_update.forEach(B)}}const L=new Set;let O;function T(){O={r:0,c:[],p:O}}function S(){O.r||o(O.c),O=O.p}function J(t,e){t&&t.i&&(L.delete(t),t.i(e))}function j(t,e,n,o){if(t&&t.o){if(L.has(t))return;L.add(t),O.c.push(()=>{L.delete(t),o&&(n&&t.d(1),o())}),t.o(e)}}function C(t){t&&t.c()}function q(t,n,c){const{fragment:l,on_mount:i,on_destroy:s,after_update:u}=t.$$;l&&l.m(n,c),B(()=>{const n=i.map(e).filter(r);s?s.push(...n):o(n),t.$$.on_mount=[]}),u.forEach(B)}function M(t,e){const n=t.$$;null!==n.fragment&&(o(n.on_destroy),n.fragment&&n.fragment.d(e),n.on_destroy=n.fragment=null,n.ctx=[])}function P(t,e){-1===t.$$.dirty[0]&&(k.push(t),_||(_=!0,x.then(N)),t.$$.dirty.fill(0)),t.$$.dirty[e/31|0]|=1<<e%31}function R(e,r,c,l,i,u,f=[-1]){const a=g;v(e);const p=r.props||{},d=e.$$={fragment:null,ctx:null,props:u,update:t,not_equal:i,bound:n(),on_mount:[],on_destroy:[],before_update:[],after_update:[],context:new Map(a?a.$$.context:[]),callbacks:n(),dirty:f,skip_bound:!1};let m=!1;if(d.ctx=c?c(e,p,(t,n,...o)=>{const r=o.length?o[0]:n;return d.ctx&&i(d.ctx[t],d.ctx[t]=r)&&(!d.skip_bound&&d.bound[t]&&d.bound[t](r),m&&P(e,t)),n}):[],d.update(),m=!0,o(d.before_update),d.fragment=!!l&&l(d.ctx),r.target){if(r.hydrate){const t=function(t){return Array.from(t.childNodes)}(r.target);d.fragment&&d.fragment.l(t),t.forEach(s)}else d.fragment&&d.fragment.c();r.intro&&J(e.$$.fragment),q(e,r.target,r.anchor),N()}v(a)}class X{$destroy(){M(this,1),this.$destroy=t}$on(t,e){const n=this.$$.callbacks[t]||(this.$$.callbacks[t]=[]);return n.push(e),()=>{const t=n.indexOf(e);-1!==t&&n.splice(t,1)}}$set(t){var e;this.$$set&&(e=t,0!==Object.keys(e).length)&&(this.$$.skip_bound=!0,this.$$set(t),this.$$.skip_bound=!1)}}function Y(e){let n,r,c,u,p,g,v=e[0].size+"";return{c(){n=f("div"),r=a(v),m(n,"key",c=e[0].size),m(n,"onselectstart","return false"),m(n,"class","block svelte-vore9p"),m(n,"style",u="width: "+40*e[0].size+"px; "+(e[2]?`position:absolute; top:${e[2].top-15}px; left:${e[2].left-30}px`:"")),h(n,"hold",e[1])},m(t,o){i(t,n,o),l(n,r),e[8](n),p||(g=[d(n,"pointerdown",e[4]),d(n,"pointerup",e[4])],p=!0)},p(t,[e]){1&e&&v!==(v=t[0].size+"")&&$(r,v),1&e&&c!==(c=t[0].size)&&m(n,"key",c),5&e&&u!==(u="width: "+40*t[0].size+"px; "+(t[2]?`position:absolute; top:${t[2].top-15}px; left:${t[2].left-30}px`:""))&&m(n,"style",u),2&e&&h(n,"hold",t[1])},i:t,o:t,d(t){t&&s(n),e[8](null),p=!1,o(g)}}}function D(t,e,n){let o,r,c,l,{block:i}=e,{isTop:s}=e,{moveBlock:u}=e,{from:f}=e;const a=t=>{const e=t.target.closest(".tower");n(2,c={top:t.clientY,left:t.clientX}),r=null==e?f:e.getAttribute("key")},p=t=>{u(i,f,r),n(1,o=!1),n(2,c=void 0),window.removeEventListener("pointermove",a),window.removeEventListener("pointerup",p)};return t.$$set=t=>{"block"in t&&n(0,i=t.block),"isTop"in t&&n(5,s=t.isTop),"moveBlock"in t&&n(6,u=t.moveBlock),"from"in t&&n(7,f=t.from)},[i,o,c,l,t=>{s&&"pointerdown"===t.type&&(n(1,o=!0),n(2,c=t.target.getBoundingClientRect()),window.addEventListener("pointermove",a),window.addEventListener("pointerup",p))},s,u,f,function(t){y[t?"unshift":"push"](()=>{l=t,n(3,l)})}]}class F extends X{constructor(t){super(),R(this,t,D,Y,c,{block:0,isTop:5,moveBlock:6,from:7})}}function G(t,e,n){const o=t.slice();return o[3]=e[n],o[5]=n,o}function H(t){let e,n;return e=new F({props:{from:t[1],block:t[3],moveBlock:t[2],isTop:0===t[5]}}),{c(){C(e.$$.fragment)},m(t,o){q(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.from=t[1]),1&n&&(o.block=t[3]),4&n&&(o.moveBlock=t[2]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function I(t){let e,n,o=t[0],r=[];for(let e=0;e<o.length;e+=1)r[e]=H(G(t,o,e));const c=t=>j(r[t],1,1,()=>{r[t]=null});return{c(){e=f("div");for(let t=0;t<r.length;t+=1)r[t].c();m(e,"class","tower svelte-li2hv"),m(e,"key",t[1])},m(t,o){i(t,e,o);for(let t=0;t<r.length;t+=1)r[t].m(e,null);n=!0},p(t,[l]){if(7&l){let n;for(o=t[0],n=0;n<o.length;n+=1){const c=G(t,o,n);r[n]?(r[n].p(c,l),J(r[n],1)):(r[n]=H(c),r[n].c(),J(r[n],1),r[n].m(e,null))}for(T(),n=o.length;n<r.length;n+=1)c(n);S()}(!n||2&l)&&m(e,"key",t[1])},i(t){if(!n){for(let t=0;t<o.length;t+=1)J(r[t]);n=!0}},o(t){r=r.filter(Boolean);for(let t=0;t<r.length;t+=1)j(r[t]);n=!1},d(t){t&&s(e),u(r,t)}}}function K(t,e,n){let{tower:o}=e,{key:r}=e,{moveBlock:c}=e;return t.$$set=t=>{"tower"in t&&n(0,o=t.tower),"key"in t&&n(1,r=t.key),"moveBlock"in t&&n(2,c=t.moveBlock)},[o,r,c]}class Q extends X{constructor(t){super(),R(this,t,K,I,c,{tower:0,key:1,moveBlock:2})}}function U(e){let n,o,c,u,p,h,g;return{c(){n=f("div"),o=f("div"),c=f("h1"),u=a(e[1]),p=a("회 만에 성공!"),m(c,"class","svelte-6c2k24"),m(o,"class","modal svelte-6c2k24"),m(n,"class","complete-wrapper svelte-6c2k24")},m(t,s){i(t,n,s),l(n,o),l(o,c),l(c,u),l(c,p),h||(g=d(n,"click",(function(){r(e[0])&&e[0].apply(this,arguments)})),h=!0)},p(t,[n]){e=t,2&n&&$(u,e[1])},i:t,o:t,d(t){t&&s(n),h=!1,g()}}}function V(t,e,n){let{close:o}=e,{count:r}=e;return t.$$set=t=>{"close"in t&&n(0,o=t.close),"count"in t&&n(1,r=t.count)},[o,r]}class W extends X{constructor(t){super(),R(this,t,V,U,c,{close:0,count:1})}}const Z=new Audio("drop.mp3");function tt(t,e,n){const o=t.slice();return o[7]=e[n],o[9]=n,o}function et(t){let e,n;return e=new Q({props:{key:t[9],tower:t[7],moveBlock:t[4]}}),{c(){C(e.$$.fragment)},m(t,o){q(e,t,o),n=!0},p(t,n){const o={};2&n&&(o.tower=t[7]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function nt(t){let e,n;return e=new W({props:{close:t[3],count:t[2]}}),{c(){C(e.$$.fragment)},m(t,o){q(e,t,o),n=!0},p(t,n){const o={};4&n&&(o.count=t[2]),e.$set(o)},i(t){n||(J(e.$$.fragment,t),n=!0)},o(t){j(e.$$.fragment,t),n=!1},d(t){M(e,t)}}}function ot(t){let e,n,o,r,c,d,h,g,v,k=t[1],y=[];for(let e=0;e<k.length;e+=1)y[e]=et(tt(t,k,e));const w=t=>j(y[t],1,1,()=>{y[t]=null});let b=t[0]&&nt(t);return{c(){e=f("div"),n=f("h1"),o=a("한오이탑 "),r=a(t[2]),c=p(),d=f("div");for(let t=0;t<y.length;t+=1)y[t].c();h=p(),b&&b.c(),g=a(""),m(d,"class","container svelte-1w7gna6"),m(e,"class","page svelte-1w7gna6")},m(t,s){i(t,e,s),l(e,n),l(n,o),l(n,r),l(e,c),l(e,d);for(let t=0;t<y.length;t+=1)y[t].m(d,null);i(t,h,s),b&&b.m(t,s),i(t,g,s),v=!0},p(t,[e]){if((!v||4&e)&&$(r,t[2]),18&e){let n;for(k=t[1],n=0;n<k.length;n+=1){const o=tt(t,k,n);y[n]?(y[n].p(o,e),J(y[n],1)):(y[n]=et(o),y[n].c(),J(y[n],1),y[n].m(d,null))}for(T(),n=k.length;n<y.length;n+=1)w(n);S()}t[0]?b?(b.p(t,e),1&e&&J(b,1)):(b=nt(t),b.c(),J(b,1),b.m(g.parentNode,g)):b&&(T(),j(b,1,1,()=>{b=null}),S())},i(t){if(!v){for(let t=0;t<k.length;t+=1)J(y[t]);J(b),v=!0}},o(t){y=y.filter(Boolean);for(let t=0;t<y.length;t+=1)j(y[t]);j(b),v=!1},d(t){t&&s(e),u(y,t),t&&s(h),b&&b.d(t),t&&s(g)}}}function rt(t,e,n){let o=!1;const r=[[...Array(7).keys()].map(t=>({size:t+1})),[],[]];let c=JSON.parse(JSON.stringify(r)),l=0;return t.$$.update=()=>{2&t.$$.dirty&&7===c[2].length&&n(0,o=!0)},[o,c,l,()=>{n(0,o=!1),n(1,c=JSON.parse(JSON.stringify(r))),n(2,l=0)},(t,e,o)=>{const r=c[o][0],i=(u=t,void 0===(s=r)||s.size>u.size);var s,u;e!==o&&i&&(n(2,l++,l),n(1,c[e]=c[e].filter(e=>e.size!=t.size),c),c[o].unshift(t),console.log(`${l}회차: (${t.size}) = ${e} => ${o}`),Z.play())}]}return new class extends X{constructor(t){super(),R(this,t,rt,ot,c,{})}}({target:document.body})}();
//# sourceMappingURL=bundle.js.map
