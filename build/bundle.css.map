{
  "version": 3,
  "file": "bundle.css",
  "sources": [
    "App.svelte",
    "Block.svelte",
    "Complete.svelte",
    "Tower.svelte"
  ],
  "sourcesContent": [
    "<script>\n  import Tower from \"./Tower.svelte\";\n  import Complete from \"./Complete.svelte\";\n  import { drop } from \"./sound.js\";\n  let length = 7;\n  let show = false;\n\n  const close = () => {\n    show = false;\n    data = JSON.parse(JSON.stringify(dataSet));\n    count = 0;\n  };\n\n  const dataSet = [\n    [...Array(length).keys()].map((value) => {\n      return { size: value + 1 };\n    }),\n    [],\n    [],\n  ];\n\n  let data = JSON.parse(JSON.stringify(dataSet));\n\n  $: if (data[2].length === length) {\n    show = true;\n  }\n\n  let count = 0;\n\n  const checkRule = (top, move) => {\n    if (top === undefined) {\n      return true;\n    }\n    if (top.size > move.size) {\n      return true;\n    }\n    return false;\n  };\n\n  const moveBlock = (blockObj, from, to) => {\n    const topBlock = data[to][0];\n    const action = checkRule(topBlock, blockObj);\n    if (from === to) {\n      return;\n    }\n    if (action) {\n      // MOVE\n      count++;\n      data[from] = data[from].filter((item) => item.size != blockObj.size);\n      data[to].unshift(blockObj);\n      console.log(`${count}회차: (${blockObj.size}) = ${from} => ${to}`);\n      drop();\n    }\n  };\n</script>\n\n<style>\n  .page {\n    width: 100%;\n    padding-top: 20px;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n  }\n  .container {\n    width: 930px;\n    display: flex;\n    justify-content: space-between;\n  }\n</style>\n\n<div class=\"page\">\n  <h1>한오이탑 {count}</h1>\n  <div class=\"container\">\n    {#each data as tower, i}\n      <Tower key={i} {tower} {moveBlock} />\n    {/each}\n  </div>\n</div>\n{#if show}\n  <Complete {close} {count} />\n{/if}\n",
    "<script>\n  export let block;\n  export let isTop;\n  export let moveBlock;\n  export let from;\n  let hold;\n  let to;\n\n  let bound;\n\n  let blockElement;\n\n  const pointerMoveListener = (e) => {\n    const towerNow = e.target.closest(\".tower\");\n    bound = {\n      top: e.clientY,\n      left: e.clientX,\n    };\n    if (towerNow != null) {\n      to = towerNow.getAttribute(\"key\");\n\n      return;\n    }\n    to = from;\n  };\n  const pointerUpListener = (e) => {\n    moveBlock(block, from, to);\n    hold = false;\n    bound = undefined;\n    window.removeEventListener(\"pointermove\", pointerMoveListener);\n    window.removeEventListener(\"pointerup\", pointerUpListener);\n  };\n\n  const pointerListener = (e) => {\n    // console.log(e);\n    if (!isTop) {\n      return;\n    }\n    if (e.type === \"pointerdown\") {\n      hold = true;\n      bound = e.target.getBoundingClientRect();\n      window.addEventListener(\"pointermove\", pointerMoveListener);\n      window.addEventListener(\"pointerup\", pointerUpListener);\n    }\n  };\n</script>\n\n<style>\n  .block {\n    text-align: center;\n    background-color: #888;\n    color: white;\n    margin-top: 2px;\n    height: 30px;\n    line-height: 30px;\n    cursor: pointer;\n  }\n  .hold {\n    opacity: 0.2;\n    pointer-events: none;\n    border: 1px dashed #888888;\n  }\n</style>\n\n<div\n  bind:this={blockElement}\n  key={block.size}\n  on:pointerdown={pointerListener}\n  on:pointerup={pointerListener}\n  onselectstart=\"return false\"\n  class=\"block\"\n  class:hold\n  style=\"width: {block.size * 40}px; {bound ? `position:absolute; top:${bound.top - 15}px; left:${bound.left - 30}px` : ''}\">\n  {block.size}\n</div>\n",
    "<script>\n  export let close;\n  export let count;\n</script>\n\n<style>\n  .complete-wrapper {\n    width: 100vw;\n    height: 100vh;\n    position: fixed;\n    top: 0;\n    left: 0;\n    background-color: #00000040;\n    display: flex;\n    align-items: center;\n    justify-content: center;\n  }\n  .modal {\n    background-color: white;\n    pointer-events: none;\n    width: 600px;\n    height: 400px;\n    border-radius: 4px;\n    display: flex;\n  }\n  h1 {\n    margin: auto;\n    text-align: center;\n  }\n</style>\n\n<div class=\"complete-wrapper\" on:click={close}>\n  <div class=\"modal\">\n    <h1>{count}회 만에 성공!</h1>\n  </div>\n</div>\n",
    "<script>\n  import Block from \"./Block.svelte\";\n  export let tower;\n  export let key;\n  export let moveBlock;\n</script>\n\n<style>\n  .tower {\n    width: 300px;\n    height: 600px;\n    border: 1px solid #ccc;\n    display: flex;\n    flex-direction: column;\n    align-items: center;\n    justify-content: flex-end;\n  }\n</style>\n\n<div class=\"tower\" {key}>\n  {#each tower as block, i}\n    <Block from={key} {block} {moveBlock} isTop={i === 0 ? true : false} />\n  {/each}\n</div>\n"
  ],
  "names": [],
  "mappings": "AAyDE,KAAK,cAAC,CAAC,AACL,KAAK,CAAE,IAAI,CACX,WAAW,CAAE,IAAI,CACjB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,AACrB,CAAC,AACD,UAAU,cAAC,CAAC,AACV,KAAK,CAAE,KAAK,CACZ,OAAO,CAAE,IAAI,CACb,eAAe,CAAE,aAAa,AAChC,CAAC;ACpBD,MAAM,cAAC,CAAC,AACN,UAAU,CAAE,MAAM,CAClB,gBAAgB,CAAE,IAAI,CACtB,KAAK,CAAE,KAAK,CACZ,UAAU,CAAE,GAAG,CACf,MAAM,CAAE,IAAI,CACZ,WAAW,CAAE,IAAI,CACjB,MAAM,CAAE,OAAO,AACjB,CAAC,AACD,KAAK,cAAC,CAAC,AACL,OAAO,CAAE,GAAG,CACZ,cAAc,CAAE,IAAI,CACpB,MAAM,CAAE,GAAG,CAAC,MAAM,CAAC,OAAO,AAC5B,CAAC;ACvDD,iBAAiB,cAAC,CAAC,AACjB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,QAAQ,CAAE,KAAK,CACf,GAAG,CAAE,CAAC,CACN,IAAI,CAAE,CAAC,CACP,gBAAgB,CAAE,SAAS,CAC3B,OAAO,CAAE,IAAI,CACb,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,MAAM,AACzB,CAAC,AACD,MAAM,cAAC,CAAC,AACN,gBAAgB,CAAE,KAAK,CACvB,cAAc,CAAE,IAAI,CACpB,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,aAAa,CAAE,GAAG,CAClB,OAAO,CAAE,IAAI,AACf,CAAC,AACD,EAAE,cAAC,CAAC,AACF,MAAM,CAAE,IAAI,CACZ,UAAU,CAAE,MAAM,AACpB,CAAC;ACpBD,MAAM,aAAC,CAAC,AACN,KAAK,CAAE,KAAK,CACZ,MAAM,CAAE,KAAK,CACb,MAAM,CAAE,GAAG,CAAC,KAAK,CAAC,IAAI,CACtB,OAAO,CAAE,IAAI,CACb,cAAc,CAAE,MAAM,CACtB,WAAW,CAAE,MAAM,CACnB,eAAe,CAAE,QAAQ,AAC3B,CAAC"
}